<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">

	<title>Pyxcel</title>
	<meta content="" name="description">
	<meta content="" name="keywords">
	<link
		href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
		rel="stylesheet">

	<!-- Vendor CSS Files -->
	<link href="../assets/vendor/animate.css/animate.min.css" rel="stylesheet">
	<link href="../assets/vendor/aos/aos.css" rel="stylesheet">
	<link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
	<link href="../assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
	<link href="../assets/vendor/remixicon/remixicon.css" rel="stylesheet">
	<link href="../assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">


	<link href="../assets/css/styles.css" rel="stylesheet">
	<link href="../assets/css/style.css" rel="stylesheet">
	<link href="../assets/css/styles-contenido.css" rel="stylesheet">

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
		integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">


</head>

<body>

	<header id="header" class="fixed-top">
		<div class="container d-flex align-items-center">

			<h1 class="logo me-auto"><a href="../index.html">Pyxcel</a></h1>
			<!-- Uncomment below if you prefer to use an image logo -->
			<!-- <a href="index.html" class="logo me-auto"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

			<nav id="navbar" class="navbar order-last order-lg-0">
				<ul>
					<li><a href="../index.html">Inicio</a></li>
					<li><a href="../index.html#about">Nosotros</a></li>
					<li><a class="active" href="nivel.html">Ver Curso</a></li>
				</ul>
				<i class="bi bi-list mobile-nav-toggle"></i>
			</nav><!-- .navbar -->

			<!-- <a href="courses.html" class="get-started-btn">Get Started</a> -->

		</div>
	</header><!-- End Header -->

	<main class="main-pagina-contenido">

		<aside class="barra-menu">
			<h1>Temario</h1>
			<div class="poner-titulo-nivel">
				<template class="template-titulo-nivel">
					<h2>Nombre del Nivel </h2>
				</template>
			</div>
			<ul class="lista-temas">
				<template class="template-tema-nivel">
					<li class="tema-del-nivel"> </li>
				</template>
			</ul>

			<div class="text-center">
				<button type="button" class="btn btn-danger btn-lg " data-toggle="modal" data-target="#modal_evaluacion"
					data-whatever="@mdo" data-backdrop="static" data-keyboard="false">Rendir Examen</button><br><br>
				<a href="nivel.html" type="button" class="btn btn-outline-success ">Volver al Curso</a><br><br>
			</div>










		</aside> <!--   barra-menu   -->
		<div class="contenidoTema-botones">

			<div class="seccion-contenido">
				<div class="titulo-del-contenido">
					<h1></h1>
				</div>

				<div class="informacion-contenido">
				</div>


			</div> <!--   seccion-contenido  -->


			<div class="seccion-botones">
				<div class="seccion-boton-anterior">
					<button class="boton-niveles boton-anterior">
						Anterior Tema
					</button>
				</div>
				<div class="seccion-boton-siguiente">
					<button class="boton-niveles boton-siguiente">
						Siguiente Tema
					</button>
				</div>

			</div> <!-- seccion-botones -->

		</div> <!--  contenidoTema-botones   -->



		<!--modal aprobado-->
		<div class="modal fade" id="modal_aprobado" tabindex="-1" aria-labelledby="exampleModalLabel"
			aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header bg-success text-white">
						<h5 class="modal-title" id="exampleModalLabel">Resultado de la prueba</h5>
					</div>
					<div class="modal-body">
						<div class="row">
							<div class="col-4">
								<img src="../assets/img/aprobado.png" alt="">
							</div>
							<div class="col-8">
								<div class="row">
									<h1 class="text-success">Aprobado</h1>
								</div>
								<div class="row">
									<h3 class="text-dark">100/100</h3>
								</div>
							</div>
						</div>

					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-success btn-lg btn-block" data-bs-dismiss="modal">Siguiente
							Nivel</button>
					</div>
				</div>
			</div>
		</div>

		<!--modal Reprobado-->
		<div class="modal fade" id="modal_reprobado" tabindex="-1" aria-labelledby="exampleModalLabel"
			aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header bg-danger text-white">
						<h5 class="modal-title" id="exampleModalLabel">Resultado de la prueba</h5>
					</div>
					<div class="modal-body">
						<div class="row">
							<div class="col-4">
								<img src="../assets/img/reprobado.png" alt="">
							</div>
							<div class="col-8">
								<div class="row">
									<h1 class="text-danger">Reprobado</h1>
								</div>
								<div class="row">
									<h3 class="text-dark">10/100</h3>
								</div>
							</div>
						</div>

					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-danger btn-lg btn-block"
							data-bs-dismiss="modal">Cerrar</button>
					</div>
				</div>
			</div>
		</div>



		<!-- contenido del modal evaluacion -->
		<div class="modal fade" id="modal_evaluacion" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
			aria-hidden="true">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header" style="background-color: #68CF79;">
						<h5 class="modal-title" id="exampleModalLabel" style="color:white;">EVALUACIÃ“N DE CONOCIMIENTO
						</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<div class="container-fluid">
							<div class="row">
								<label for="recipient-name" class="col-form-label" style="font-size: small;">Nivel :
									<strong> Titulo de nivel </strong></label>
							</div>
							<div class="row" style="height: 80px; ">
								<div class="col-2 border border-success" style="display: flex; align-items: center;">
									<label class="text-success font-weight-bold" style="font-size: x-large">1/10</label>

								</div>
								<div class="col-7" style="display: flex; align-items: left;">
									<label for="recipient-name" class="col-form-label">descripcion /planteamineto de la
										pregunta</label>
								</div>
								<div class="col-3 ml-auto text-center">
									<div class="row"><label class="font-weight-light" style="font-size:x-small ">tiempo
											restante</label></div>
									<div class="row"><label class="font-weight-bold text text-danger"
											style="font-size: xx-large;">59</label></div>
								</div>
							</div><br>

							<div class="row p-1 border border-dark" style="display: flex; align-items: center;">
								<button id="o1pregunta" type="button"
									class="btn btn-outline-secondary">Cargando...</button>
								<button id="o2pregunta" type="button"
									class="btn btn-outline-secondary">Cargando...</button>
								<button id="o3pregunta" type="button"
									class="btn btn-outline-secondary">Cargando...</button>
								<button id="o4pregunta" type="button"
									class="btn btn-outline-secondary">Cargando...</button>
								<!--
							<button type="button" class="btn btn-light btn-lg btn-block p-2">opcion 1</button>
							<button type="button" class="btn btn-light btn-lg btn-block p-2">opcion 2</button>
							<button type="button" class="btn btn-light btn-lg btn-block p-2">opcion 3</button>
							<button type="button" class="btn btn-light btn-lg btn-block p-2">opcion 4</button>
							-->
								<!--<div class="list-group" id="list-tab" role="tablist">
								<li class="list-group-item list-group-item-action" data-bs-toggle="list">A second item</li>
								<li class="list-group-item list-group-item-action" data-bs-toggle="list">A third item</li>
								<li class="list-group-item list-group-item-action" data-bs-toggle="list">A fourth item</li>
								<li class="list-group-item list-group-item-action" data-bs-toggle="list">And a fifth one</li>
							</ul>
							-->

							</div>

						</div>
					</div>
					<div>
						<div class="row p-3">
							<div class="col-4"><button type="button" class="btn btn-danger"
									data-dismiss="modal">cancelar prueba</button></div>
							<div class="col-4"></div>
							<div class="col-4"><button id="botonOmitirDialog" type="button"
									class="btn btn-warning">omitir pregunta</button>
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>

		<script type="module">

			let preguntaActual = 1;

			import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.2/firebase-app.js";
			const firebaseConfig = {
				apiKey: "AIzaSyAd6JDsbBWEBv_UFCpgNi9zKEjqgiGytTE",
				authDomain: "pyxcel-d6df9.firebaseapp.com",
				projectId: "pyxcel-d6df9",
				storageBucket: "pyxcel-d6df9.appspot.com",
				messagingSenderId: "953396754317",
				appId: "1:953396754317:web:321620a07c7577f5eb6fc4",
				measurementId: "G-46CQF62KX4"
			};
			// Initialize Firebase
			const app = initializeApp(firebaseConfig);
			import { getDatabase, ref, get, set, child, update, remove, onChildAdded, onChildChanged, onChildRemoved } from "https://www.gstatic.com/firebasejs/9.1.2/firebase-database.js";

			const db = getDatabase();
			const commentsRef = ref(db, 'Evaluaciones/nivel1');
			var contenido = "";

			/*var listaPreuntas = new Array();
			onChildAdded(commentsRef, (data) => {
				if (data.exists()) {
					//objeto recuperado (se ejecuta n veces hasta que termine de leer todos los niveles)
					const objeto = data.val();
					listaPreguntas.push(objeto);
					console.log(objeto);
				} else {
					alert("No se encontro el elemento");
				}

			});*/



			let op1pr = document.getElementById("o1pregunta");
			let op2pr = document.getElementById("o2pregunta");
			let op3pr = document.getElementById("o3pregunta");
			let op4pr = document.getElementById("o4pregunta");

			op1pr.textContent = "opcion 1";
			op2pr.textContent = "opcion 2";
			op3pr.textContent = "opcion 3";
			op4pr.textContent = "opcion 4";

			op1pr.addEventListener("click", function () {
				//op1pr.setAttribute("class", "btn btn-danger");
				//op1pr.disabled = true;
				//op2pr.disabled = true;
				//op3pr.disabled = true;
				//op4pr.disabled = true;
				recuperarPregunta();
			});

			op2pr.addEventListener("click", function () {
				//op2pr.setAttribute("class", "btn btn-danger");
				//op1pr.disabled = true;
				//op2pr.disabled = true;
				//op3pr.disabled = true;
				//op4pr.disabled = true;
				recuperarPregunta();
			});
			op3pr.addEventListener("click", function () {
				//op3pr.setAttribute("class", "btn btn-success");
				//op1pr.disabled = true;
				//op2pr.disabled = true;
				//op3pr.disabled = true;
				//op4pr.disabled = true;
				recuperarPregunta();
			});
			op4pr.addEventListener("click", function () {
				//op4pr.setAttribute("class", "btn btn-danger");
				//op1pr.disabled = true;
				//op2pr.disabled = true;
				//op3pr.disabled = true;
				//op4pr.disabled = true;
				recuperarPregunta();
			});

			let botonOmitir = document.getElementById("botonOmitirDialog");
			botonOmitir.addEventListener("click", function () {

				const dbRef = ref(getDatabase());
				get(child(dbRef, "Evaluaciones/nivel1/p" + preguntaActual)).then((snapshot) => {
					if (snapshot.exists()) {
						console.log(snapshot.val());
						var pregunta = snapshot.val();
						preguntaActual = preguntaActual + 1;
						op1pr.textContent = pregunta.o1;
						op2pr.textContent = pregunta.o2;
						op3pr.textContent = pregunta.o3;
						op4pr.textContent = pregunta.o4;
					} else {
						console.log("No data available");
					}
				}).catch((error) => {
					console.error(error);
				});
			});

			recuperarPregunta();
			function recuperarPregunta() {

				const dbRef = ref(getDatabase());
				get(child(dbRef, "Evaluaciones/nivel1/p" + preguntaActual)).then((snapshot) => {
					if (snapshot.exists()) {
						console.log(snapshot.val());
						var pregunta = snapshot.val();
						preguntaActual = preguntaActual + 1;
						op1pr.textContent = pregunta.o1;
						op2pr.textContent = pregunta.o2;
						op3pr.textContent = pregunta.o3;
						op4pr.textContent = pregunta.o4;
					} else {
						console.log("No data available");
					}
				}).catch((error) => {
					console.error(error);
				});
			}

			/*function siguientePregunta(){
				//let pregunta = listaPreuntas[preguntaActual];
				//preguntaActual = preguntaActual+1;
				//op1pr.textContent = pregunta.o1;
				//op2pr.textContent = pregunta.o2;
				//op3pr.textContent = pregunta.o3;
				//op4pr.textContent = pregunta.o4;
				console.log("hola");
				//console.log(pregunta.o1);
			}*/

		</script>
	</main>

	<script>
		function mensaje_alerta_omitir() {
			Swal.fire({
				title: 'Realmente desea omitir la pregunta?',
				showCancelButton: true,
				confirmButtonText: 'si omitir',
				cancelButtonText: 'cancelar',
			}).then((result) => {
				/* Read more about isConfirmed, isDenied below */
				if (result.isConfirmed) {
					//cerramos la vista y volvemos a niveles
					//no guardamos nada

				}
			})
		}
		function mensaje_alerta_salir() {
			Swal.fire({
				title: 'Realmente desea cancelar la evaluacion?',
				showCancelButton: true,
				confirmButtonText: 'si salir',
				cancelButtonText: 'cancelar',
			}).then((result) => {
				/* Read more about isConfirmed, isDenied below */
				if (result.isConfirmed) {
					//cerramos la vista y volvemos a niveles
					//no guardamos nada

				}
			})
		}
	</script>


	<script src="../assets/js/libs/jquery.min.js" type="text/javascript"></script>
	<script type="module" src="../assets/js/recover-data.js"></script>
	<script type="module" src="../assets/js/scrip.js"></script>
	<script type="module" src="../assets/js/connection-firebase.js"></script>

	<!-- Vendor JS Files -->
	<script src="../assets/vendor/aos/aos.js"></script>
	<script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="../assets/vendor/php-email-form/validate.js"></script>
	<script src="../assets/vendor/purecounter/purecounter.js"></script>
	<script src="../assets/vendor/swiper/swiper-bundle.min.js"></script>

	<!--cdn botstrap-->
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
		integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
		crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
		integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
		crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
		integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
		crossorigin="anonymous"></script>
	<!-- cdn sweet alert-->
	<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

	<!-- Template Main JS File -->
	<script src="../assets/js/main.js"></script>

</body>

</html>